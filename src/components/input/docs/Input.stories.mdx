import { Meta, Story, ArgsTable, Canvas, Source } from '@storybook/addon-docs/blocks';
import { Formik, Form } from 'formik';
import * as Yup from 'yup';
import { Input } from '../Input';

<Meta title='Components/Input' component={Input} />

# Input

This is a story for the `Input` component with Formik integration.

## Props

<ArgsTable of={Input} />

## Email Input

This story includes validation for email addresses.

<Canvas>
  <Story name='EmailInput'>
    {() => {
      const validationSchema = Yup.object({
        email: Yup.string()
          .email('Invalid email address')
          .required('Email is required'),
      });

      return (
        <Formik
          initialValues={{ email: '' }}
          validationSchema={validationSchema}
          onSubmit={(values) => console.log(values)}
        >
          <Form>
            <Input name='email' label='Email' />
          </Form>
        </Formik>
      );
    }}
  </Story>
</Canvas>

<Source code={`
const validationSchema = Yup.object({
  email: Yup.string()
    .email('Invalid email address')
    .required('Email is required'),
});

<Formik
  initialValues={{ email: '' }}
  validationSchema={validationSchema}
  onSubmit={(values) => console.log(values)}
>
  <Form>
    <Input name='email' label='Email' />
  </Form>
</Formik>
`} />

## Number Input

This story includes validation for numeric values with minimum and maximum constraints.

<Canvas>
  <Story name='NumberInput'>
    {() => {
      const validationSchema = Yup.object({
        number: Yup.number()
          .min(1, 'Minimum is 1')
          .max(10, 'Maximum is 10')
          .required('Number is required'),
      });

      return (
        <Formik
          initialValues={{ number: '' }}
          validationSchema={validationSchema}
          onSubmit={(values) => console.log(values)}
        >
          <Form>
            <Input name='number' label='Number' />
          </Form>
        </Formik>
      );
    }}
  </Story>
</Canvas>

<Source code={`
const validationSchema = Yup.object({
  number: Yup.number()
    .min(1, 'Minimum is 1')
    .max(10, 'Maximum is 10')
    .required('Number is required'),
});

<Formik
  initialValues={{ number: '' }}
  validationSchema={validationSchema}
  onSubmit={(values) => console.log(values)}
>
  <Form>
    <Input name='number' label='Number' />
  </Form>
</Formik>
`} />
